# Placeholders Directory README

## Overview
The `placeholders` directory contains configuration and data files used by the `create_effect_combinations.py` and `add_csv_field.py` scripts. These files define placeholder values (e.g., `<number>`, `<rank>`) for generating or matching text combinations, as well as rules for filtering and refining the output of `create_effect_combinations.py`. The directory serves as a centralized resource for customizing the behavior of these tools without modifying their source code.

## Directory Structure
- **Configuration Files** (specific to `create_effect_combinations.py`):
  - `combinations_to_remove.txt`: Defines phrases to exclude from generated combinations.
  - `phrase_replacements.txt`: Specifies phrase replacements for refining output.
- **Placeholder Files**: Text files named after placeholders (e.g., `number.txt`, `rank.txt`, etc), providing values for substitution or pattern matching in both scripts.

## File Descriptions

### Configuration Files

#### `combinations_to_remove.txt`
- **Purpose**: Lists phrases that should be filtered out from the combinations generated by `create_effect_combinations.py`. This helps remove invalid or unwanted outputs.
- **Format**: One phrase per line. Empty lines and lines starting with `#` are ignored as comments.
- **Example**:
- **Usage**: Processed by `create_effect_combinations.py` when the `-c/--combinations_to_remove` argument is provided (defaults to this file).
- **Notes**: If this file is missing, no phrases are filtered, and a warning is issued.

#### `phrase_replacements.txt`
- **Purpose**: Defines phrase replacements to refine the output of `create_effect_combinations.py`, such as correcting grammar or standardizing terms.
- **Format**: Key-value pairs in the format `old phrase: new phrase`, one per line. Empty lines and lines starting with `#` are ignored as comments.
- **Example**:
- **Usage**: Processed by `create_effect_combinations.py` when the `-r/--replacements_file` argument is provided (defaults to this file).
- **Notes**: If this file is missing, no replacements are applied, and a warning is issued.

### Placeholder Files
- **Purpose**: Provide values for placeholders (e.g., `<number>`, `<rank>`) used in both scripts:
- In `create_effect_combinations.py`, these values are substituted into templates to generate combinations.
- In `add_csv_field.py`, they are used to expand patterns for matching (e.g., `Draw <number> cards`).
- **Format**: One value per line. Empty lines are ignored, and underscores (`_`) are stripped from values. Lines can contain nested placeholders (e.g., `<type>`).
- **Examples**:
- `number.txt`: Contains possible number values desired.
- `rank.txt`: Contains possible values for a valid rank.
- **Naming Convention**: Files must be named `<placeholder>.txt` (e.g., `number.txt` for `<number>`), matching the placeholders used in input sentences or patterns.
- **Notes**: 
- Missing files result in unresolved placeholders (e.g., `<number>` remains `<number>`).
- Nested placeholders are recursively resolved, but cycles (e.g., `<rank>` containing `<rank>`) leave placeholders unresolved.

## Usage with Scripts
- **Default Directory**: Both scripts use `placeholders/` as the default directory via the `-p/--placeholder_dir` argument.
- **Customization**: Modify these files to change the behavior of the scripts:
- Add or edit placeholder files to adjust possible values.
- Update `combinations_to_remove.txt` to filter specific outputs.
- Adjust `phrase_replacements.txt` to refine generated text.

## Notes
- Ensure all files are plain text (`.txt`) and encoded in UTF-8 for compatibility.
- Comments (`#`) in configuration files are optional but recommended for clarity.
- Do not include comments in the placeholder file(s). This is not yet supported.
- Backup this directory before making significant changes, as it directly affects script behavior.
