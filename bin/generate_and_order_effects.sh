#!/bin/bash

# Cleanup old files
rm -rf effects/all_effects.txt
rm -rf effects/effects_with_placeholders.csv

# Create the base list of all effects.
./create_effect_combinations.py -f
sleep 1

# Generate csv, and add UNIT to csv.
./add_csv_field.py -c UNIT -t "<subtype> " -i "effects/all_effects.txt"
sleep 1 # Give the file time to generate.
./add_csv_field.py -c SPELL -t "<type> "

# Add rank specific columns.
# Creature effects can typically have the rank of that creature, one higher, etc.
# TODO


# Add some spell specific effects.
./add_csv_field.py -c SPELL -t "Your opponent loses <number> point"
./add_csv_field.py -c SPELL -t "Gain <number> point"
./add_csv_field.py -c SPELL -t "Both players"
./add_csv_field.py -c SPELL -t "Add up to <number> rank <rank> <card>"
./add_csv_field.py -c SPELL -t "Add up to <number> rank <rank> or higher <card>"
./add_csv_field.py -c SPELL -t "Add up to <number> rank <rank> or lower <card>"
./add_csv_field.py -c SPELL -t "Counter the effect of a rank <rank> <card>"
./add_csv_field.py -c SPELL -t "Destroy all rank <rank> <card>"
./add_csv_field.py -c SPELL -t "Destroy exactly <number> <card>"
./add_csv_field.py -c SPELL -t "Destroy up to <number> <card>"
./add_csv_field.py -c SPELL -t "Destroy exactly <number> rank <rank> <card>"
./add_csv_field.py -c SPELL -t "Destroy up to <number> rank <rank> <card>"
./add_csv_field.py -c SPELL -t "Discard one rank <rank> <card> from your hand"
./add_csv_field.py -c SPELL -t "Discard this card to add one <card>"
./add_csv_field.py -c SPELL -t "Discard this card to add one rank <rank> <card>"
./add_csv_field.py -c SPELL -t "Discard this card to add one rank <rank> or higher <card>"
./add_csv_field.py -c SPELL -t "Discard this card to add one rank <rank> or lower <card>"
./add_csv_field.py -c SPELL -t "Draw <number> card"
./add_csv_field.py -c SPELL -t "Lose <number> point"
./add_csv_field.py -c SPELL -t "Return one rank <rank> <card>"
./add_csv_field.py -c SPELL -t "Reveal the top card of your deck and play one rank <rank> <card>"
./add_csv_field.py -c SPELL -t "Reveal the top <number> cards of your deck and play one rank <rank> <card>"
./add_csv_field.py -c SPELL -t "This turn, all rank <rank> <card>"
./add_csv_field.py -c SPELL -t "This turn, increase the rank of one rank <rank> <card>"
./add_csv_field.py -c SPELL -t "While this card is on the field, all rank <rank> <card>"
./add_csv_field.py -c SPELL -t "Add <number> <card>"
./add_csv_field.py -c SPELL -t "Discard one rank <rank> <card>"
./add_csv_field.py -c SPELL -t "Return one <type> card"
./add_csv_field.py -c SPELL -t "Counter the effect of a <type> card"
./add_csv_field.py -c SPELL -t "Counter the effect of a rank <rank> <card>"
./add_csv_field.py -c SPELL -t "Destroy exactly <number> <type> card"
./add_csv_field.py -c SPELL -t "Destroy exactly <number> rank <rank> <card>"
./add_csv_field.py -c SPELL -t "Destroy exactly <number> <card> controlled by each player"
./add_csv_field.py -c SPELL -t "Destroy up to <number> <type> card"
./add_csv_field.py -c SPELL -t "Destroy up to <number> rank <rank> <card>"
./add_csv_field.py -c SPELL -t "Discard one <type> card from your hand"
./add_csv_field.py -c SPELL -t "Discard one rank <rank> <card> from your hand"
./add_csv_field.py -c SPELL -t "Discard one <type> card from your hand to play up to two"
./add_csv_field.py -c SPELL -t "Discard one rank <rank> <card> from your hand to play up to two"
./add_csv_field.py -c SPELL -t "Discard one <type> card to add one"
./add_csv_field.py -c SPELL -t "Discard one rank <rank> <card> card to add one"
./add_csv_field.py -c SPELL -t "Discard one <type> card to counter"
./add_csv_field.py -c SPELL -t "Discard one rank <rank> <card> to counter"
./add_csv_field.py -c SPELL -t "Return one <type> card"
./add_csv_field.py -c SPELL -t "Return one rank <rank> <card>"
./add_csv_field.py -c SPELL -t "Reveal the top <number> card"
./add_csv_field.py -c SPELL -t "This turn, all <type> card"
./add_csv_field.py -c SPELL -t "This turn, all rank <rank> <card>"
./add_csv_field.py -c SPELL -t "This turn, change one <type>"
./add_csv_field.py -c SPELL -t "While this card is on the field, all <type>"
./add_csv_field.py -c SPELL -t "While this card is on the field, all rank <rank> <card>"
./add_csv_field.py -c SPELL -t "You can play one extra <types>"
./add_csv_field.py -c SPELL -t "You can play one extra rank <rank> <card>"
./add_csv_field.py -c SPELL -t "Your opponent cannot play <types>"


# Add some unit specific effects.
./add_csv_field.py -c UNIT -t "You can send up to <number> card"
./add_csv_field.py -c UNIT -t "Send up to <number> card"
./add_csv_field.py -c UNIT -t "When this card is sent to the discard pile"
./add_csv_field.py -c UNIT -t "Destroy this card to"
./add_csv_field.py -c UNIT -t "Lose <number> point"
./add_csv_field.py -c UNIT -t "You can play one extra rank <rank> <card>"
./add_csv_field.py -c UNIT -t "Return one <subtype> card"
./add_csv_field.py -c UNIT -t "Discard this card to add one <subtype>"
./add_csv_field.py -c UNIT -t "Discard this card to add one rank <rank> <subtype>"
./add_csv_field.py -c UNIT -t "Discard this card to add one rank <rank> or higher <subtype>"
./add_csv_field.py -c UNIT -t "Discard this card to add one rank <rank> or lower <subtype>"


# Handle some exact matches (used for one off effects)
./add_csv_field.py -c SPELL -e "While this card is on the field, attack and defense changes are inverted."
./add_csv_field.py -c UNIT -e "While this card is on the field, attack and defense changes are inverted."


# Add some level specific specifiers for spell cards.
./add_csv_field.py -c LEVEL_1 -t "Your opponent loses one point"
./add_csv_field.py -c LEVEL_1 -t "Your opponent loses two point"
./add_csv_field.py -c LEVEL_2 -t "Your opponent loses two point"
./add_csv_field.py -c LEVEL_2 -t "Your opponent loses three point"
./add_csv_field.py -c LEVEL_3 -t "Your opponent loses three point"
./add_csv_field.py -c LEVEL_3 -t "Your opponent loses four point"
./add_csv_field.py -c LEVEL_1 -t "Gain one point"
./add_csv_field.py -c LEVEL_1 -t "Gain two point"
./add_csv_field.py -c LEVEL_2 -t "Gain two point"
./add_csv_field.py -c LEVEL_2 -t "Gain three point"
./add_csv_field.py -c LEVEL_3 -t "Gain three point"
./add_csv_field.py -c LEVEL_3 -t "Gain four point"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Add one rank <rank> <card>"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Add two rank <rank> <card>"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Add two rank <rank> <card>"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Add three rank <rank> <card>"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Add three rank <rank> <card>"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Add four rank <rank> <card>"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Counter the effect of a rank 1 <card>"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Counter the effect of a rank 2 <card>"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Counter the effect of a rank 2 <card>"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Counter the effect of a rank 3 <card>"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Counter the effect of a rank 4 <card>"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Counter the effect of a rank 4 <card>"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Counter the effect of a rank 5 <card>"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Destroy all rank 1 <card>"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Destroy all rank 2 <card>"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Destroy all rank 2 <card>"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Destroy all rank 3 <card>"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Destroy all rank 4 <card>"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Destroy all rank 4 <card>"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Destroy all rank 5 <card>"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Destroy exactly one"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Destroy exactly two"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Destroy exactly two"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Destroy exactly three"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Destroy exactly four"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Destroy exactly four"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Destroy exactly five"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Destroy up to one"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Destroy up to two"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Destroy up to two"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Destroy up to three"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Destroy up to three"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Destroy up to four"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "card from your hand to play one rank 1"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "card from your hand to play one rank 2"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "card from your hand to play one rank 2"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "card from your hand to play one rank 3"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "card from your hand to play one rank 4"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "card from your hand to play one rank 4"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "card from your hand to play one rank 5"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "card from your hand to play up to two rank 1"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "card from your hand to play up to two rank 2"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "card from your hand to play up to two rank 2"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "card from your hand to play up to two rank 3"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "card from your hand to play up to two rank 4"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "card from your hand to play up to two rank 4"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "card from your hand to play up to two rank 5"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "card to add one rank 1"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "card to add one rank 2"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "card to add one rank 2"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "card to add one rank 3"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "card to add one rank 4"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "card to add one rank 4"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "card to add one rank 5"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Draw one card"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Draw two card"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Draw two card"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Draw three card"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Draw three card"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Draw four card"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Gain one point"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Gain two point"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Gain two point"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Gain three point"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Gain three point"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Gain four point"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Lose one point"
./add_csv_field.py -c LEVEL_1 -m SPELL -t "Lose two point"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Lose two point"
./add_csv_field.py -c LEVEL_2 -m SPELL -t "Lose three point"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Lose three point"
./add_csv_field.py -c LEVEL_3 -m SPELL -t "Lose four point"

# Add some level specific specifiers for unit cards.

./add_csv_field.py -c LEVEL_1 -m UNIT -t "card to add one rank 1"
./add_csv_field.py -c LEVEL_1 -m UNIT -t "card to add one rank 2"
./add_csv_field.py -c LEVEL_2 -m UNIT -t "card to add one rank 2"
./add_csv_field.py -c LEVEL_2 -m UNIT -t "card to add one rank 3"
./add_csv_field.py -c LEVEL_3 -m UNIT -t "card to add one rank 3"
./add_csv_field.py -c LEVEL_3 -m UNIT -t "card to add one rank 4"
./add_csv_field.py -c LEVEL_4 -m UNIT -t "card to add one rank 4"
./add_csv_field.py -c LEVEL_4 -m UNIT -t "card to add one rank 5"
./add_csv_field.py -c LEVEL_5 -m UNIT -t "card to add one rank 5"
